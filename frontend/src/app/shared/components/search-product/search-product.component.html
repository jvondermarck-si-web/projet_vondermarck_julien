<tui-input class="w-full" [formControl]="productSearchControl" [tuiTextfieldCleaner]="true" tuiTextfieldIconLeft="tuiIconSearch" tuiTextfieldSize="m" [tuiTextfieldLabelOutside]="true">
    {{ 'header.search-placeholder' | transloco }}

    <ng-container *ngIf="showProductList">
        <tui-data-list-wrapper
            *tuiDataList
            [items]="filteredProducts"
            [itemContent]="productItemTemplate"
            [emptyContent]="noResultsTemplate">
        </tui-data-list-wrapper>
    </ng-container>
</tui-input>

<ng-template #productItemTemplate let-product>
    <div class="flex" (click)="onProductSelected(product)" routerLink="/product/{{product.id}}">
        <img class="object-scale-down w-12 h-12 mr-2" [src]="product.image"  alt="Product {{ product.title }}"/>
        <p [innerHTML]="product.title | highlight:productSearchControl.value!"></p>
    </div>
</ng-template>

<ng-template #noResultsTemplate>
    <p>{{ 'header.no-results' | transloco }}</p>
</ng-template>
